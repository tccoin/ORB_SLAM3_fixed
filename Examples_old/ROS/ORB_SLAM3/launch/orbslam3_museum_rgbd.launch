<?xml version="1.0" encoding="UTF-8"?> 
<launch> 
    <param name="/use_sim_time" value="true"/>
    <node name="republish_rgb" type="republish" pkg="image_transport" output="screen" args="raw in:=/head_camera/rgb/image_rect_color raw out:=/camera/rgb/image_raw" /> 
    <node name="republish_depth" type="republish" pkg="image_transport" output="screen" args="raw in:=/head_camera/depth/image_rect_raw raw out:=/camera/depth_registered/image_raw" />

    <node name="playbag" pkg="rosbag" type="play" args="--clock /dataset/museum/fun_demo.bag" output="screen" launch-prefix="bash -c 'sleep 10; $0 $@' "> </node>

    <arg name="vocabulary" default="/root/catkin_ws/src/ORB_SLAM3_fixed/Vocabulary/ORBvoc.txt" doc="Vocabulary for DBoW2."/> 
    <arg name="settings" default="/root/catkin_ws/src/ORB_SLAM3_fixed/Examples_old/ROS/ORB_SLAM3/Asus.yaml" doc="System settings."/> 
    <arg name="map_frame_id" default="map"/>
    <arg name="base_link_frame_id" default="base_link"/>
    <!-- <arg name="do_rectify" default="false" /> -->
    <node name="orbslam3_rgbd" pkg="ORB_SLAM3" type="RGBD" output="screen" args="$(arg vocabulary) $(arg settings)"> 
        <!-- <remap from="/head_camera/rgb/image_rect_color" to="/camera/rgb/image_raw"/>
        <remap from="/head_camera/depth/image_rect_raw" to="/camera/depth_registered/image_raw"/>            -->
        <!-- <remap from="/imu" to="/camera/imu/sample"/>-->
        <param name="map_frame_id" value="$(arg map_frame_id)"/>
        <param name="base_link_frame_id" value="$(arg base_link_frame_id)"/>
    </node>

     <node pkg="tf2_ros" type="static_transform_publisher" name="start_broadcaster" args="0 0 0 0 0 0 base_link map"/>
</launch>
